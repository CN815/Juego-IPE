<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Juego IPE - Contratos</title>
    <style>
        /* ===== FONDO ANIMADO ===== */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(135deg, #11cbac 40%, #2575fc 80%, #5900ff 100%);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
        }

        @keyframes gradientBG {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* ===== CONTENEDOR PRINCIPAL ===== */
        .container {
            background: white;
            padding: 50px 40px;
            border-radius: 20px;
            width: 900px;
            max-height: 95vh;
            overflow-y: auto;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s;
        }

        .container:hover {
            transform: translateY(-5px);
        }

        h1 {
            margin-bottom: 30px;
            font-size: 36px;
            color: #333;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
        }

        .question {
            font-size: 24px;
            margin: 30px 0;
            color: #222;
        }

        /* ===== BOTONES ===== */
        button {
            display: block;
            width: 100%;
            margin: 12px 0;
            padding: 16px;
            border: none;
            border-radius: 12px;
            background: linear-gradient(90deg, #1cc88a, #4e73df);
            color: white;
            font-size: 18px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transition: 0.3s;
        }

        button:hover {
            background: linear-gradient(90deg, #4e73df, #1cc88a);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        /* ===== BOT칍N NUEVA PARTIDA FLOTANTE ===== */
        #newGameBtn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: auto;
            padding: 15px 25px;
            z-index: 1000;
        }

        /* ===== RESULTADOS ===== */
        .result {
            font-size: 24px;
            margin-top: 25px;
            font-weight: bold;
            text-align: left;
        }

        .summary {
            text-align: left;
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .question-card {
            padding: 15px 20px;
            border-radius: 15px;
            background: #f8f9fc;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .correct {
            color: green;
            font-weight: bold;
        }

        .incorrect {
            color: red;
            font-weight: bold;
        }

        .explanation {
            font-style: italic;
            margin-top: 5px;
            color: #555;
        }
    </style>
</head>

<body>

    <div class="container">
        <h1>游꿡 Juego IPE - Contratos</h1>
        <div id="question" class="question"></div>
        <div id="answers"></div>
        <div id="result" class="result"></div>
    </div>

    <!-- BOT칍N NUEVA PARTIDA FIJO -->
    <button id="newGameBtn" onclick="restartGame()">游꿡 Nueva partida</button>

    <script>
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        let questions = [
            { question: "El contrato indefinido ordinario puede celebrarse:", answers: ["Solo por escrito", "Verbal o escrito", "Solo verbal"], correct: 1, explanation: "El contrato indefinido ordinario puede celebrarse verbalmente o por escrito, sin requisitos especiales." },
            { question: "El contrato fijo-discontinuo se usa cuando:", answers: ["La actividad es permanente todo el a침o", "La actividad es intermitente", "Es una sustituci칩n"], correct: 1, explanation: "El contrato fijo-discontinuo es para trabajos intermitentes, como socorristas de verano o monitores de esqu칤." },
            { question: "Un socorrista que trabaja todos los veranos tiene contrato:", answers: ["Temporal imprevisible", "Fijo-discontinuo", "En pr치cticas"], correct: 1, explanation: "Se considera fijo-discontinuo porque el trabajo se repite cada a침o pero no es continuo." },
            { question: "La antig칲edad en fijo-discontinuo cuenta:", answers: ["Solo tiempo trabajado", "Toda la relaci칩n laboral", "No cuenta"], correct: 1, explanation: "Se cuenta todo el periodo laboral, incluso inactivo, para antig칲edad." },
            { question: "La indemnizaci칩n por despido en fijo-discontinuo cuenta:", answers: ["Todo el tiempo incluido inactividad", "Solo tiempo trabajado", "No existe"], correct: 1, explanation: "La indemnizaci칩n solo se calcula por el tiempo efectivamente trabajado." },
            { question: "El contrato por circunstancias imprevisibles dura m치ximo:", answers: ["3 meses", "6 meses ampliable a 1 a침o", "2 a침os"], correct: 1, explanation: "Se permite hasta 6 meses, ampliable a 1 a침o seg칰n convenio." },
            { question: "El contrato por circunstancias previsibles puede usarse:", answers: ["90 d칤as al a침o", "180 d칤as", "Todo el a침o"], correct: 0, explanation: "Solo se permite 90 d칤as por a침o para situaciones previsibles." },
            { question: "La indemnizaci칩n por contrato temporal es:", answers: ["12 d칤as por a침o", "20 d칤as por a침o", "No hay"], correct: 0, explanation: "Todos los contratos temporales dan derecho a indemnizaci칩n de 12 d칤as por a침o trabajado." },
            { question: "El contrato por sustituci칩n genera indemnizaci칩n:", answers: ["S칤", "No", "Depende del tiempo"], correct: 1, explanation: "No se paga indemnizaci칩n al finalizar un contrato por sustituci칩n." },
            { question: "El contrato por sustituci칩n puede durar m치ximo:", answers: ["6 meses", "3 meses salvo convenio", "1 a침o"], correct: 1, explanation: "Duraci칩n m치xima 3 meses salvo convenio colectivo." },
            { question: "Se puede iniciar sustituci칩n con antelaci칩n de:", answers: ["15 d칤as", "1 mes", "No se puede"], correct: 0, explanation: "Se puede iniciar hasta 15 d칤as antes de la ausencia de la persona sustituida." },
            { question: "Encadenamiento: ser치 fijo si trabaja 18 meses en 24 meses con:", answers: ["1 contrato", "2 o m치s contratos temporales", "Cualquier contrato"], correct: 1, explanation: "Si hay 2 o m치s contratos temporales en 24 meses y al menos 18 meses trabajados, se pasa a fijo." },
            { question: "El contrato de relevo se firma con:", answers: ["Trabajador fijo", "Desempleado o temporal", "Estudiante"], correct: 1, explanation: "Se firma con un desempleado o trabajador temporal que completa jornada de un trabajador parcialmente jubilado." },
            { question: "Indemnizaci칩n contrato relevo:", answers: ["12 d칤as por a침o", "No hay", "20 d칤as"], correct: 0, explanation: "El contrato de relevo tiene derecho a 12 d칤as por a침o trabajado." },
            { question: "El contrato de formaci칩n en alternancia es para:", answers: ["Personas sin titulaci칩n para pr치cticas", "Universitarios", "Jubilados"], correct: 0, explanation: "Para personas j칩venes sin titulaci칩n, con tiempo de trabajo efectivo y formaci칩n." },
            { question: "Duraci칩n formaci칩n en alternancia:", answers: ["3 meses a 2 a침os", "6 meses a 1 a침o", "1 a 3 a침os"], correct: 0, explanation: "Duraci칩n m칤nima 3 meses y m치xima 2 a침os, salvo excepciones." },
            { question: "Trabajo efectivo primer a침o alternancia:", answers: ["50%", "65%", "85%"], correct: 1, explanation: "M치ximo 65% del primer a침o en trabajo efectivo, resto formaci칩n." },
            { question: "Trabajo efectivo segundo a침o alternancia:", answers: ["65%", "85%", "100%"], correct: 1, explanation: "M치ximo 85% del segundo a침o en trabajo efectivo, resto formaci칩n." },
            { question: "Hay periodo de prueba en alternancia:", answers: ["S칤", "No"], correct: 1, explanation: "No hay periodo de prueba en contratos de alternancia." },
            { question: "Contrato pr치ctica profesional requiere:", answers: ["Sin estudios", "Titulaci칩n oficial", "Experiencia m칤nima"], correct: 1, explanation: "Se requiere titulaci칩n oficial para pr치cticas profesionales." },
            { question: "Se puede firmar hasta:", answers: ["3 a침os tras t칤tulo", "10 a침os", "Sin l칤mite"], correct: 0, explanation: "Se puede firmar hasta 3 a침os despu칠s de obtener el t칤tulo oficial." },
            { question: "Duraci칩n pr치ctica profesional:", answers: ["6 meses a 1 a침o", "3 meses a 2 a침os", "1 a 3 a침os"], correct: 0, explanation: "La duraci칩n m칤nima es de 6 meses y m치xima de 1 a침o." },
            { question: "Periodo de prueba pr치ctica profesional:", answers: ["M치ximo 1 mes", "6 meses", "No existe"], correct: 0, explanation: "Periodo de prueba m치ximo 1 mes salvo convenio." },
            { question: "Contrato a tiempo parcial debe ser:", answers: ["Verbal", "Siempre por escrito", "Opcional"], correct: 1, explanation: "Debe realizarse siempre por escrito, indicando jornada y distribuci칩n." },
            { question: "Horas complementarias pactadas m치ximo:", answers: ["30%", "50%", "10%"], correct: 0, explanation: "No pueden superar el 30% de horas de trabajo firmadas en el contrato." },
            { question: "Trabajadores parciales tienen:", answers: ["Menos derechos", "Mismos derechos", "No cotizan"], correct: 1, explanation: "Tienen los mismos derechos que trabajadores a tiempo completo." },
            { question: "En contrato alternancia se pueden hacer horas extras:", answers: ["S칤 siempre", "No salvo fuerza mayor", "S칤 libremente"], correct: 1, explanation: "No pueden realizar horas extras salvo por fuerza mayor." },
            { question: "Alternancia permite trabajo nocturno:", answers: ["S칤", "No"], correct: 1, explanation: "No se permite trabajar en horario nocturno ni a turnos." },
            { question: "Contrato pr치cticas da derecho a:", answers: ["Certificaci칩n y desempleo", "Indemnizaci칩n", "Nada"], correct: 0, explanation: "Se obtiene certificaci칩n y c칩mputo para prestaci칩n por desempleo." },
            { question: "Solo trabaja durante unos meses cada a침o:", answers: ["Contrato indefinido ordinario", "Contrato fijo-discontinuo", "Contrato temporal imprevisible"], correct: 1, explanation: "Este tipo de contratos se usan en trabajos estacionales o intermitentes." },
            { question: "Se puede realizar el contrato de forma verbal:", answers: ["Indefinido ordinario", "Contrato de sustituci칩n", "Contrato fijo-discontinuo"], correct: 0, explanation: "El contrato indefinido ordinario se puede hacer verbal o por escrito." },
            { question: "Cu치l NO es una situaci칩n v치lida para contrato por sustituci칩n:", answers: ["Sustituir a una persona con derecho a reserva de puesto", "Completar jornada reducida de otra persona", "Cubrir temporalmente un puesto en proceso de selecci칩n", "Sustituir a un trabajador que se ausenta unos d칤as por emergencia familiar"], correct: 3, explanation: "No se puede usar el contrato por sustituci칩n para ausencias cortas por emergencia familiar." },
            { question: "El contrato por circunstancias de la producci칩n puede durar m치s de 6 meses:", answers: ["S칤, si el convenio lo ampl칤a hasta 1 a침o", "No, nunca", "S칤, hasta 2 a침os"], correct: 0, explanation: "Puede durar hasta 1 a침o si el convenio colectivo lo permite." },
            { question: "Cu치l de estos contratos solo se puede realizar de forma escrita:", answers: ["Indefinido ordinario", "Contrato por circunstancias de la producci칩n", "Contrato por sustituci칩n de persona trabajadora"], correct: 2, explanation: "El contrato por sustituci칩n siempre debe ser por escrito." },
            { question: "Contrato que completa la jornada de un trabajador que se jubila parcialmente:", answers: ["Contrato temporal com칰n", "Contrato temporal de relevo", "Contrato de pr치cticas"], correct: 1, explanation: "El contrato temporal de relevo cubre la jornada de un trabajador parcialmente jubilado." },
            { question: "Duraci칩n m칤nima del contrato de formaci칩n en alternancia:", answers: ["3 meses", "9 meses", "1 a침o", "2 a침os"], correct: 0, explanation: "La duraci칩n m칤nima es de 3 meses." },
            { question: "Horas complementarias m치ximas en contrato parcial:", answers: ["30% de las horas firmadas", "10% de las horas firmadas", "15% de las horas firmadas", "45% de las horas firmadas"], correct: 0, explanation: "Las horas complementarias no pueden superar el 30%." },
            { question: "Situaci칩n: aumento de clientes en temporada que se repite cada a침o, tipo de contrato:", answers: ["Circunstancias ocasionales e imprevisibles", "Circunstancias previsibles", "Sustituci칩n"], correct: 1, explanation: "Para aumentos predecibles se usa contrato por circunstancias previsibles." },
            { question: "쯊iene derecho a indemnizaci칩n el contrato por sustituci칩n?", answers: ["S칤", "No"], correct: 1, explanation: "No genera indemnizaci칩n al finalizar." }
        ];

        questions = shuffle(questions);
        let currentQuestion = 0;
        let score = 0;
        let answersUser = [];

        function loadQuestion() {
            if (currentQuestion >= questions.length) {
                showResults();
                return;
            }

            const q = questions[currentQuestion];
            document.getElementById("question").innerHTML =
                "Pregunta " + (currentQuestion + 1) + " de " + questions.length + "<br><br>" + q.question;

            const answersDiv = document.getElementById("answers");
            answersDiv.innerHTML = "";

            let answers = shuffle([...q.answers]);

            answers.forEach((answer) => {
                const button = document.createElement("button");
                button.innerText = answer;
                button.onclick = () => {
                    answersUser.push({ question: q.question, chosen: answer, correct: q.answers[q.correct], explanation: q.explanation });
                    if (answer === q.answers[q.correct]) score++;
                    currentQuestion++;
                    loadQuestion();
                };
                answersDiv.appendChild(button);
            });
        }

        function showResults() {
            document.getElementById("question").innerHTML = "游꿀 Juego terminado";
            document.getElementById("answers").innerHTML = "";
            const resultDiv = document.getElementById("result");

            let level = "";
            if (score < 10) level = "Nivel b치sico 游닂";
            else if (score < 20) level = "Buen nivel 游녪";
            else level = "Experto/a en FOL 游끥";

            let summaryHtml = `<p><strong>Puntuaci칩n final: ${score} / ${questions.length}</strong> - ${level}</p>`;
            summaryHtml += `<div class="summary">`;

            answersUser.forEach((item, index) => {
                const correctClass = item.chosen === item.correct ? "correct" : "incorrect";
                summaryHtml += `<div class="question-card">
                        <p><strong>${index + 1}. ${item.question}</strong></p>
                        <p>Tu respuesta: <span class="${correctClass}">${item.chosen}</span></p>
                        <p>Respuesta correcta: <span class="correct">${item.correct}</span></p>`;
                if (item.chosen !== item.correct) {
                    summaryHtml += `<p class="explanation">Explicaci칩n: ${item.explanation}</p>`;
                }
                summaryHtml += `</div>`;
            });

            summaryHtml += `</div>`;
            resultDiv.innerHTML = summaryHtml;
        }

        function restartGame() {
            currentQuestion = 0;
            score = 0;
            answersUser = [];
            questions = shuffle(questions);
            document.getElementById("result").innerHTML = "";
            loadQuestion();
        }

        loadQuestion();
    </script>

</body>

</html>